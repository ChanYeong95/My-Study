## 트랜잭션

> 여러 SQL문을 마치 하나의 오퍼레이션으로 묶기 위한 기술

- 격리 수준(Isolation Level)
    - 데이터베이스 트랜잭션이 안전하게 수행된다는 것을 보장하기 위한 성질
    - 원자성(Atomicity)
        - 트랜잭션과 관련된 작업들이 부분적으로 실행되다가 중단되지 않는 것을 보장해야 한다.
        - MySQL은 Undo Log와 Redo Log를 통해 원자성을 보장한다.
    - 일관성(Consistency)
        - 트랜잭션이 실행을 성공적으로 완료하면 언제나 일관성 있는 데이터베이스 상태로 유지해야 한다.
        - 트랜잭션 실행 전과 후에 데이터의 무결성이 보장된다.
    - 독립성(Isolation)
        - 트랜잭션을 수행 시 다른 트랜잭션의 연산 작업이 끼어들지 못하도록 보장해야 한다.
        - 트랜잭션은 서로 간섭하지 않고 독립적으로 동작한다.
        - 격리수준을 통해 독립성을 제어한다.
    - 지속성(Durability)
        - 성공적으로 수행된 트랜잭션은 영원히 반영되어야 한다.
        - 완료된 트랜잭션은 유실되지 않아야 한다.

    |                   | Dirty Read | Non-Repeatable Read | Phantom Read |
    |-------------------|:----------:|:-------------------:|:------------:|
    | Read Uncommitted  |     O      |          O          |      O       |
    | Read Committed    |            |          O          |      O       |
    | Repeatable Read   |            |                     |      O       |
    | Serializable Read |            |                     |              |

    - MySQL에서는 4가지 격리 수준을 지원한다.
    - 격리 수준이 높아질 수록 이상현상이 없다.
    - 하지만 동시 처리량이 낮다.


- 전파 레벨(Propagation Level)
    - 선언적 트랜잭션 방식에서는 트랜잭션간의 관계를 제어하는게 자유롭지 못하다.
    - 한계점을 극복하고자 트랜잭션 내부에서 트랜잭션 어떻게 동작하는지에 대해 정의할 수 있다.
